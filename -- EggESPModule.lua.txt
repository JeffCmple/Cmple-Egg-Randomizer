-- EggESPModule.lua

local EggESPModule = {}

local eggConfigs = {
    ["Bug Egg"] = {
        color = Color3.fromRGB(255, 105, 180), -- pink
        label = "üêû Bug Egg"
    },
    ["Zen Egg"] = {
        color = Color3.fromRGB(0, 255, 255), -- cyan
        label = "üßò Zen Egg"
    }
}

function EggESPModule.ApplyESPToEgg(egg)
    local config = eggConfigs[egg.Name]
    if not config or not egg:IsA("Model") then return end

    -- Highlight
    local highlight = Instance.new("Highlight")
    highlight.Adornee = egg
    highlight.FillColor = config.color
    highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.Parent = egg

    -- Billboard label
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "EggESPLabel"
    billboard.Adornee = egg:FindFirstChild("Head") or egg:FindFirstChildWhichIsA("BasePart")
    billboard.Size = UDim2.new(0, 100, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.AlwaysOnTop = true
    billboard.Parent = egg

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Text = config.label
    textLabel.TextColor3 = config.color
    textLabel.BackgroundTransparency = 1
    textLabel.TextStrokeTransparency = 0
    textLabel.TextScaled = true
    textLabel.Font = Enum.Font.GothamBold
    textLabel.Parent = billboard
end

function EggESPModule.Setup(folder)
    -- Apply ESP to existing eggs
    for _, egg in ipairs(folder:GetChildren()) do
        EggESPModule.ApplyESPToEgg(egg)
    end

    -- Watch for new eggs
    folder.ChildAdded:Connect(function(egg)
        EggESPModule.ApplyESPToEgg(egg)
    end)
end

return EggESPModule